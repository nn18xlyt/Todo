# 待办事项应用 PRD

## 核心功能
添加待办事项时，除了标题，还可以设置描述、截止日期、优先级、分类。查看列表时，支持按分类、优先级、状态筛选，还有搜索功能可以快速找到特定的待办事项。当然也支持编辑和删除。数据用 LocalStorage 保存，刷新页面不会丢失。另外还有统计功能，显示完成率、待办数量等。

## 背景与目标
- 做一个你愿意天天打开的待办。
- 3 秒内能加一条。
- 5 秒内能找到一条。
- 离线也能用。

## 目标用户
- 平时记在微信收藏的人。
- 任务很多，但不想用复杂软件的人。
- 手机上随手记，电脑上顺手改的人。

## 范围（做什么）
- 任务管理：新增、编辑、完成、删除。
- 任务字段：标题、描述、截止日期、优先级、分类。
- 列表能力：筛选、搜索、排序。
- 统计：完成率、待办数、逾期数。
- 本地存储：LocalStorage。

## 非范围（暂时不做）
- 登录/多设备云同步。
- 团队协作/共享清单。
- 任务重复规则（每天/每周）。
- 推送通知。

## 关键用户流程
### 新增任务
- 入口：顶部“快速新增”。
- 必填：标题。
- 可选：描述、日期、优先级、分类。
- 提交后：列表立刻可见。

### 处理任务
- 在列表里一键完成/取消完成。
- 点开抽屉/弹层，编辑详情。
- 删除需要二次确认。

### 找任务
- 先筛选：分类/状态/优先级。
- 再搜索：标题/描述关键字。
- 默认排序：未完成优先，其次按截止日期。

## 设计要求
- 视觉以 `AGENTS.md` 为准。
- 不走 SaaS 模板风。
- 背景不能纯平。
- 布局要不对称。
- 动效别用 `ease-in-out`。
- 移动端必须好用。

## 功能需求（详细）
### 任务（Todo）
- 字段
  - 标题：必填，1-50 字。
  - 描述：可选，0-200 字。
  - 截止日期：可选，精度到“日”。
  - 优先级：P0/P1/P2（默认 P1）。
  - 分类：可选（默认“未分类”）。
  - 状态：未完成/已完成。
- 行为
  - 新增：支持回车提交。
  - 编辑：支持只改一个字段。
  - 完成：列表项可直接切换。
  - 删除：弹出确认。

### 分类（Category）
- 支持新增/重命名/删除。
- 删除分类时：分类下任务归到“未分类”。
- 分类数量上限：20。

### 筛选 / 搜索 / 排序
- 筛选
  - 状态：全部/未完成/已完成。
  - 优先级：全部/P0/P1/P2。
  - 分类：全部/某分类。
- 搜索：匹配标题与描述（包含即可）。
- 排序（默认）
  - 未完成在前。
  - 有截止日期在前。
  - 截止日期近的在前。
  - 最后按创建时间倒序。

### 统计
- 待办数：未完成任务数。
- 已完成：已完成任务数。
- 完成率：完成数 / 总数。
- 逾期数：未完成且截止日期早于今天。

## 数据与持久化
- 使用 LocalStorage。
- 刷新后数据不丢。
- 读写失败时要兜底（清空/提示）。

## 约束与边界规则
- 标题为空不允许提交。
- 逾期判断按本地时区。
- 搜索为空时：回到筛选结果。
- 列表为空要有“空状态”。

## 验收标准
- 能新增一条任务。
- 能编辑并保存字段。
- 能完成/取消完成。
- 能删除且有二次确认。
- 能新增/重命名/删除分类。
- 能按分类/状态/优先级筛选。
- 能搜索到标题/描述里的关键字。
- 能看到 4 个统计值。
- 刷新页面数据不丢。
- 手机宽度下不横向溢出。

## 里程碑（建议）
- M1：任务 CRUD + LocalStorage。
- M2：分类 + 筛选/搜索/排序。
- M3：统计 + 空状态 + 基础动效。
- M4：视觉打磨（按 AGENTS）。
